[gd_scene load_steps=27 format=3 uid="uid://buflil5mkewud"]

[ext_resource type="PackedScene" uid="uid://b4vn3slq2biu5" path="res://src/levels/test/FarmTilemap.tscn" id="1_o7l5j"]
[ext_resource type="Texture2D" uid="uid://b625abpl18xs1" path="res://assets/characters/player_light_alt.png" id="1_t1ta7"]
[ext_resource type="PackedScene" uid="uid://cs4u6rgsu7gds" path="res://src/characters/enemies/BaseEnemy.tscn" id="3_7fy26"]
[ext_resource type="PackedScene" uid="uid://byol1svprhp55" path="res://src/characters/player/Player.tscn" id="3_igfc8"]
[ext_resource type="PackedScene" uid="uid://bapm1fset07q2" path="res://src/throwables/Throwable.tscn" id="7_l50rw"]

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_jylxr"]
polygon = PackedVector2Array(44, -40, 44, 76, -72, 76, -72, -40, -88, -40, -88, 88, 56, 88, 56, -40)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_swx3a"]
polygon = PackedVector2Array(-40, -40, -116, -40, -116, -245, 120, -245, 120, -172, 108, -172, 108, -233, -104, -233, -104, -52, -40, -52)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_16eyq"]
polygon = PackedVector2Array(120, -116, 104, -116, 104, -56, 12, -56, 12, -40, 120, -40)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_yrnwi"]
polygon = PackedVector2Array(-52, -180, -52, -168, -40, -168, -40, -180)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_3sovs"]
polygon = PackedVector2Array(329, -201, 329, -245, 501, -245, 505, -76, 461, -76, 461, -84, 489, -84, 489, -233, 345, -233, 345, -201)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_l7a2k"]
polygon = PackedVector2Array(405, -84, 405, -76, 333, -76, 333, -144, 341, -144, 341, -84)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_r85io"]
polygon = PackedVector2Array(782, 112, 914, 112, 914, -48, 782, -48)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_tcool"]
polygon = PackedVector2Array(754, 209, 686, 209, 686, 273, 622, 273, 622, 301, 589, 301, 589, 369, 754, 369, 754, 337, 786, 337, 786, 241, 754, 241)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_p1dge"]
polygon = PackedVector2Array(1323, 533, 1335, 533, 1335, 469, 1512, 469, 1512, 650, 1452, 650, 1452, 662, 1528, 662, 1528, 457, 1323, 457)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_gignj"]
polygon = PackedVector2Array(1323, 585, 1335, 585, 1335, 650, 1399, 650, 1399, 662, 1367, 662, 1367, 778, 1480, 778, 1480, 746, 1496, 746, 1496, 778, 1528, 778, 1528, 810, 1512, 810, 1512, 790, 1355, 790, 1351, 662, 1323, 662)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_pi384"]
polygon = PackedVector2Array(1480, 662, 1480, 694, 1496, 694, 1496, 662)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_i72uo"]
polygon = PackedVector2Array(1528, 618, 1592, 618, 1592, 630, 1528, 630)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_uq21g"]
polygon = PackedVector2Array(1528, 489, 1784, 489, 1784, 521, 1913, 521, 1913, 662, 1788, 662, 1788, 650, 1897, 650, 1897, 537, 1784, 537, 1784, 565, 1768, 565, 1768, 501, 1720, 501, 1720, 533, 1704, 533, 1704, 501, 1656, 501, 1656, 533, 1640, 533, 1640, 501, 1592, 501, 1592, 533, 1576, 533, 1576, 501, 1528, 501)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_ibtva"]
polygon = PackedVector2Array(1644, 618, 1644, 630, 1768, 630, 1768, 682, 1740, 682, 1740, 694, 1780, 694, 1784, 694, 1784, 662, 1788, 662, 1788, 650, 1784, 650, 1784, 618)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_j0i1v"]
polygon = PackedVector2Array(1592, 810, 1512, 810, 1512, 950, 1784, 950, 1784, 918, 1913, 918, 1913, 778, 1897, 778, 1897, 906, 1768, 906, 1768, 938, 1720, 938, 1720, 906, 1704, 906, 1704, 938, 1656, 938, 1656, 906, 1640, 906, 1640, 938, 1592, 938, 1592, 906, 1580, 906, 1576, 906, 1576, 938, 1528, 938, 1528, 826, 1528, 822, 1592, 822)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_t7414"]
polygon = PackedVector2Array(1897, 778, 1784, 778, 1784, 746, 1740, 746, 1740, 758, 1768, 758, 1768, 810, 1644, 810, 1644, 822, 1768, 822, 1768, 854, 1784, 854, 1784, 790, 1897, 790)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_nxxtd"]
polygon = PackedVector2Array(1580, 682, 1580, 694, 1592, 694, 1592, 682)

[sub_resource type="OccluderPolygon2D" id="OccluderPolygon2D_66qom"]
polygon = PackedVector2Array(1019, 377, 1019, 409, 986, 409, 986, 441, 954, 441, 954, 505, 922, 505, 922, 537, 890, 537, 890, 678, 922, 678, 922, 710, 954, 710, 954, 742, 986, 742, 986, 774, 1019, 774, 1019, 806, 1095, 806, 1095, 774, 1127, 774, 1127, 710, 1159, 710, 1159, 646, 1191, 646, 1191, 618, 1191, 614, 1223, 614, 1223, 537, 1191, 537, 1191, 505, 1159, 505, 1159, 441, 1127, 441, 1127, 409, 1095, 409, 1095, 377)

[sub_resource type="Curve2D" id="Curve2D_hyb1a"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 221, -321, 0, 0, 0, 0, 221, 64)
}
point_count = 2

[sub_resource type="Curve2D" id="Curve2D_nwdhm"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 946, 389, 0, 0, 0, 0, 882, 485, 0, 0, 0, 0, 866, 541, 0, 0, 0, 0, 862, 626, 0, 0, 0, 0, 882, 698, 0, 0, 0, 0, 970, 798, 0, 0, 0, 0, 1003, 822, 0, 0, 0, 0, 1055, 838, 0, 0, 0, 0, 1131, 814, 0, 0, 0, 0, 1167, 774, 0, 0, 0, 0, 1199, 702, 0, 0, 0, 0, 1243, 638, 0, 0, 0, 0, 1243, 529, 0, 0, 0, 0, 1207, 465, 0, 0, 0, 0, 1167, 401, 0, 0, 0, 0, 1103, 349, 0, 0, 0, 0, 990, 353, 0, 0, 0, 0, 946, 389)
}
point_count = 18

[sub_resource type="Curve2D" id="Curve2D_jc0o0"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 1263, 521, 0, 0, 0, 0, 1259, 642, 0, 0, 0, 0, 1223, 714, 0, 0, 0, 0, 1183, 810, 0, 0, 0, 0, 1131, 858, 0, 0, 0, 0, 1051, 874, 0, 0, 0, 0, 986, 846, 0, 0, 0, 0, 874, 710, 0, 0, 0, 0, 838, 630, 0, 0, 0, 0, 842, 501, 0, 0, 0, 0, 918, 365, 0, 0, 0, 0, 966, 317, 0, 0, 0, 0, 1111, 321, 0, 0, 0, 0, 1191, 381, 0, 0, 0, 0, 1231, 457, 0, 0, 0, 0, 1263, 521)
}
point_count = 16

[node name="level_01" type="Node2D"]

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0, 0, 0, 0.823529)

[node name="Occluders" type="Node2D" parent="."]
z_index = 10

[node name="Room1" type="Node2D" parent="Occluders"]
z_index = 3

[node name="LightOccluder2D" type="LightOccluder2D" parent="Occluders/Room1"]
modulate = Color(0.396078, 1, 0.341176, 1)
show_behind_parent = true
occluder = SubResource("OccluderPolygon2D_jylxr")
occluder_light_mask = 3

[node name="LightOccluder2D2" type="LightOccluder2D" parent="Occluders/Room1"]
occluder = SubResource("OccluderPolygon2D_swx3a")
occluder_light_mask = 3

[node name="LightOccluder2D3" type="LightOccluder2D" parent="Occluders/Room1"]
occluder = SubResource("OccluderPolygon2D_16eyq")
occluder_light_mask = 3

[node name="LightOccluder2D4" type="LightOccluder2D" parent="Occluders/Room1"]
position = Vector2(-1, -2)
occluder = SubResource("OccluderPolygon2D_yrnwi")
occluder_light_mask = 3

[node name="LightOccluder2D5" type="LightOccluder2D" parent="Occluders/Room1"]
position = Vector2(95.24, -2)
occluder = SubResource("OccluderPolygon2D_yrnwi")
occluder_light_mask = 3

[node name="LightOccluder2D6" type="LightOccluder2D" parent="Occluders/Room1"]
position = Vector2(95.24, 62.16)
occluder = SubResource("OccluderPolygon2D_yrnwi")
occluder_light_mask = 3

[node name="LightOccluder2D7" type="LightOccluder2D" parent="Occluders/Room1"]
position = Vector2(-0.999981, 62.16)
occluder = SubResource("OccluderPolygon2D_yrnwi")
occluder_light_mask = 3

[node name="Room2" type="Node2D" parent="Occluders"]

[node name="LightOccluder2D" type="LightOccluder2D" parent="Occluders/Room2"]
modulate = Color(0.396078, 1, 0.341176, 1)
show_behind_parent = true
occluder = SubResource("OccluderPolygon2D_3sovs")
occluder_light_mask = 3

[node name="LightOccluder2D2" type="LightOccluder2D" parent="Occluders/Room2"]
modulate = Color(0.396078, 1, 0.341176, 1)
show_behind_parent = true
occluder = SubResource("OccluderPolygon2D_l7a2k")
occluder_light_mask = 3

[node name="Room3" type="Node2D" parent="Occluders"]

[node name="LightOccluder2D" type="LightOccluder2D" parent="Occluders/Room3"]
modulate = Color(0.396078, 1, 0.341176, 1)
show_behind_parent = true
occluder = SubResource("OccluderPolygon2D_r85io")
occluder_light_mask = 3

[node name="LightOccluder2D2" type="LightOccluder2D" parent="Occluders/Room3"]
modulate = Color(0.396078, 1, 0.341176, 1)
show_behind_parent = true
occluder = SubResource("OccluderPolygon2D_tcool")
occluder_light_mask = 3

[node name="Room4" type="Node2D" parent="Occluders"]

[node name="LightOccluder2D" type="LightOccluder2D" parent="Occluders/Room4"]
modulate = Color(0.396078, 1, 0.341176, 1)
show_behind_parent = true
occluder = SubResource("OccluderPolygon2D_p1dge")
occluder_light_mask = 3

[node name="LightOccluder2D2" type="LightOccluder2D" parent="Occluders/Room4"]
modulate = Color(0.396078, 1, 0.341176, 1)
show_behind_parent = true
occluder = SubResource("OccluderPolygon2D_gignj")
occluder_light_mask = 3

[node name="LightOccluder2D3" type="LightOccluder2D" parent="Occluders/Room4"]
modulate = Color(0.396078, 1, 0.341176, 1)
show_behind_parent = true
occluder = SubResource("OccluderPolygon2D_pi384")
occluder_light_mask = 3

[node name="LightOccluder2D4" type="LightOccluder2D" parent="Occluders/Room4"]
modulate = Color(0.396078, 1, 0.341176, 1)
show_behind_parent = true
occluder = SubResource("OccluderPolygon2D_i72uo")
occluder_light_mask = 3

[node name="LightOccluder2D5" type="LightOccluder2D" parent="Occluders/Room4"]
modulate = Color(0.396078, 1, 0.341176, 1)
show_behind_parent = true
occluder = SubResource("OccluderPolygon2D_uq21g")
occluder_light_mask = 3

[node name="LightOccluder2D6" type="LightOccluder2D" parent="Occluders/Room4"]
modulate = Color(0.396078, 1, 0.341176, 1)
show_behind_parent = true
occluder = SubResource("OccluderPolygon2D_ibtva")
occluder_light_mask = 3

[node name="LightOccluder2D7" type="LightOccluder2D" parent="Occluders/Room4"]
modulate = Color(0.396078, 1, 0.341176, 1)
show_behind_parent = true
occluder = SubResource("OccluderPolygon2D_j0i1v")
occluder_light_mask = 3

[node name="LightOccluder2D8" type="LightOccluder2D" parent="Occluders/Room4"]
modulate = Color(0.396078, 1, 0.341176, 1)
show_behind_parent = true
occluder = SubResource("OccluderPolygon2D_t7414")
occluder_light_mask = 3

[node name="LightOccluder2D9" type="LightOccluder2D" parent="Occluders/Room4"]
modulate = Color(0.396078, 1, 0.341176, 1)
show_behind_parent = true
position = Vector2(-1, 0)
occluder = SubResource("OccluderPolygon2D_nxxtd")
occluder_light_mask = 3

[node name="LightOccluder2D10" type="LightOccluder2D" parent="Occluders/Room4"]
modulate = Color(0.396078, 1, 0.341176, 1)
show_behind_parent = true
position = Vector2(95.23, 0)
occluder = SubResource("OccluderPolygon2D_nxxtd")
occluder_light_mask = 3

[node name="LightOccluder2D11" type="LightOccluder2D" parent="Occluders/Room4"]
modulate = Color(0.396078, 1, 0.341176, 1)
show_behind_parent = true
position = Vector2(95.23, 65.17)
occluder = SubResource("OccluderPolygon2D_nxxtd")
occluder_light_mask = 3

[node name="LightOccluder2D12" type="LightOccluder2D" parent="Occluders/Room4"]
modulate = Color(0.396078, 1, 0.341176, 1)
show_behind_parent = true
position = Vector2(-1.01, 65.17)
occluder = SubResource("OccluderPolygon2D_nxxtd")
occluder_light_mask = 3

[node name="Wheat1" type="LightOccluder2D" parent="Occluders"]
occluder = SubResource("OccluderPolygon2D_66qom")
occluder_light_mask = 4

[node name="TileMap" parent="." instance=ExtResource("1_o7l5j")]

[node name="Player" parent="." node_paths=PackedStringArray("tilemap") instance=ExtResource("3_igfc8")]
z_index = 5
position = Vector2(-12, 24)
rotation = -1.57079
tilemap = NodePath("../TileMap")

[node name="Enemies" type="Node2D" parent="."]

[node name="Route1" type="Path2D" parent="Enemies"]
curve = SubResource("Curve2D_hyb1a")

[node name="BaseEnemy1" parent="Enemies" node_paths=PackedStringArray("player", "follow_path") instance=ExtResource("3_7fy26")]
position = Vector2(221, -268.87)
rotation = 1.57079
player = NodePath("../../Player")
follow_path = NodePath("../Route1")
is_following = true

[node name="BaseEnemy2" parent="Enemies" node_paths=PackedStringArray("player", "follow_path") instance=ExtResource("3_7fy26")]
position = Vector2(437, 36)
rotation = 3.14159
player = NodePath("../../Player")
follow_path = NodePath("")

[node name="Route2" type="Path2D" parent="Enemies"]
curve = SubResource("Curve2D_nwdhm")
metadata/_edit_lock_ = true

[node name="BaseEnemy3" parent="Enemies" node_paths=PackedStringArray("player", "follow_path") instance=ExtResource("3_7fy26")]
position = Vector2(946, 389)
rotation = 1.83259
player = NodePath("../../Player")
follow_path = NodePath("../Route2")
is_following = true

[node name="Route3" type="Path2D" parent="Enemies"]
curve = SubResource("Curve2D_jc0o0")

[node name="BaseEnemy4" parent="Enemies" node_paths=PackedStringArray("player", "follow_path") instance=ExtResource("3_7fy26")]
position = Vector2(1263, 521)
rotation = 1.57079
player = NodePath("../../Player")
follow_path = NodePath("../Route3")
is_following = true

[node name="BaseEnemy5" parent="Enemies" node_paths=PackedStringArray("player", "follow_path") instance=ExtResource("3_7fy26")]
position = Vector2(1687.14, 722)
player = NodePath("../../Player")
follow_path = NodePath("")

[node name="Lights" type="Node2D" parent="."]

[node name="PointLight2D" type="PointLight2D" parent="Lights"]
position = Vector2(413, -160)
color = Color(0.580392, 0.8, 0.2, 1)
energy = 1.5
blend_mode = 2
shadow_enabled = true
texture = ExtResource("1_t1ta7")
texture_scale = 0.75

[node name="PointLight2D2" type="PointLight2D" parent="Lights"]
position = Vector2(1428, 565)
color = Color(0.580392, 0.8, 0.2, 1)
energy = 1.5
blend_mode = 2
shadow_enabled = true
texture = ExtResource("1_t1ta7")
texture_scale = 0.75

[node name="PointLight2D3" type="PointLight2D" parent="Lights"]
position = Vector2(1845, 722)
color = Color(0.580392, 0.8, 0.2, 1)
energy = 1.5
blend_mode = 2
shadow_enabled = true
texture = ExtResource("1_t1ta7")
texture_scale = 0.75

[node name="PointLight2D4" type="PointLight2D" parent="Lights"]
position = Vector2(1620, 569)
color = Color(0.580392, 0.105882, 0.2, 1)
energy = 1.5
blend_mode = 2
shadow_enabled = true
texture = ExtResource("1_t1ta7")
texture_scale = 0.75

[node name="PointLight2D5" type="PointLight2D" parent="Lights"]
position = Vector2(1620, 870)
color = Color(0.580392, 0.105882, 0.2, 1)
energy = 1.5
blend_mode = 2
shadow_enabled = true
texture = ExtResource("1_t1ta7")
texture_scale = 0.75

[node name="Throwbles" type="Node2D" parent="."]

[node name="Throwable" parent="Throwbles" node_paths=PackedStringArray("player") instance=ExtResource("7_l50rw")]
position = Vector2(1556, 698)
player = NodePath("../../Player")
